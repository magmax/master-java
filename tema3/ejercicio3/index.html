<?xml version="1.0" encoding="UTF-8"?>
<html>
  <head>
    <title>El juego del Ahorcado</title>

    <STYLE TYPE="text/css">
      .letter {width:24pt;}
    </STYLE>


    <script language="JavaScript">
      var palabra = "";
      var adivinado = new Array();
      var intentos = 0;
      var adivinadas = 0;

      function comenzar () {
	palabra = null;
	while (palabra == null || palabra == ''){
	  palabra = prompt("Introduzca la palabra a adivinar");
	}
	intentos = 6;
	adivinadas = 0;
	adivinado = new Array(palabra.length);
	for (i=0; i<palabra.length; ++i)
	  adivinado[i] = '-';
	setImage();
	setWord();
      }

      function pressed(letter) {
	if (intentos == 0)
	  return;

	letter = letter.toUpperCase();
	var found = false;
	for (var i = 0; i < palabra.length; ++i)
	{
	  if (palabra[i].toUpperCase() == letter) {
	    adivinado[i] = letter;
	    found = true;
	    adivinadas ++;
	    setWord();
	  }
	}
	if (!found)
	{
	  intentos --;
	  setImage();
	}
	checkEnd();
      }

      function checkEnd() {
	if (adivinadas == palabra.length ) {
	  alert("Lo conseguiste");
	  intentos = 0;
	}
      }

      function setImage () {
	var image="vacio";
	switch(intentos)
	{
	  case 6: image = "vacio"; break;
	  case 5: image = "cabeza"; break;
	  case 4: image = "cuerpo"; break;
	  case 3: image = "brazo_izdo"; break;
	  case 2: image = "brazo_dcho"; break;
	  case 1: image = "pierna_izda"; break;
	  case 0: image = "pierna_dcha"; break;
	}
	document.datos.image.src = "images/" + image + ".jpg";
      }

      function setWord () {
	word = "";
	for (i=0; i<adivinado.length; ++i)
	  word += adivinado[i] + ' ';
	document.datos.word.value = word;
      }

    </script>


  </head>
  <body>
    <h1>El juego del Ahorcado</h1>

    <form name="datos" id="datos">
      <input type="button" value="Comenzar" onClick="comenzar()"/>

      <table>
	<tr>
	  <td>
	    <table>
	      <tr>
		<td>
		  <input class="letter" type="button" value="A" onClick="pressed('A')"/>
		</td>
		<td>
		  <input class="letter" type="button" value="B" onClick="pressed('B')"/>
		</td>
		<td>
		  <input class="letter" type="button" value="C" onClick="pressed('C')"/>
		</td>
	      </tr>
	      <tr>
		<td>
		  <input class="letter" type="button" value="D" onClick="pressed('D')"/>
		</td>
		<td>
		  <input class="letter" type="button" value="E" onClick="pressed('E')"/>
		</td>
		<td>
		  <input class="letter" type="button" value="F" onClick="pressed('F')"/>
		</td>
	      </tr>
	      <tr>
		<td>
		  <input class="letter" type="button" value="G" onClick="pressed('G')"/>
		</td>
		<td>
		  <input class="letter" type="button" value="H" onClick="pressed('H')"/>
		</td>
		<td>
		  <input class="letter" type="button" value="I" onClick="pressed('I')"/>
		</td>
	      </tr>
	      <tr>
		<td>
		  <input class="letter" type="button" value="J" onClick="pressed('J')"/>
		</td>
		<td>
		  <input class="letter" type="button" value="K" onClick="pressed('K')"/>
		</td>
		<td>
		  <input class="letter" type="button" value="L" onClick="pressed('L')"/>
		</td>
	      </tr>
	      <tr>
		<td>
		  <input class="letter" type="button" value="M" onClick="pressed('M')"/>
		</td>
		<td>
		  <input class="letter" type="button" value="N" onClick="pressed('N')"/>
		</td>
		<td>
		  <input class="letter" type="button" value="Ñ" onClick="pressed('Ñ')"/>
		</td>
	      </tr>
	      <tr>
		<td>
		  <input class="letter" type="button" value="O" onClick="pressed('O')"/>
		</td>
		<td>
		  <input class="letter" type="button" value="P" onClick="pressed('P')"/>
		</td>
		<td>
		  <input class="letter" type="button" value="Q" onClick="pressed('Q')"/>
		</td>
	      </tr>
	      <tr>
		<td>
		  <input class="letter" type="button" value="R" onClick="pressed('R')"/>
		</td>
		<td>
		  <input class="letter" type="button" value="S" onClick="pressed('S')"/>
		</td>
		<td>
		  <input class="letter" type="button" value="T" onClick="pressed('T')"/>
		</td>
	      </tr>
	      <tr>
		<td>
		  <input class="letter" type="button" value="U" onClick="pressed('U')"/>
		</td>
		<td>
		  <input class="letter" type="button" value="V" onClick="pressed('V')"/>
		</td>
		<td>
		  <input class="letter" type="button" value="W" onClick="pressed('W')"/>
		</td>
	      </tr>
	      <tr>
		<td>
		  <input class="letter" type="button" value="X" onClick="pressed('X')"/>
		</td>
		<td>
		  <input class="letter" type="button" value="Y" onClick="pressed('Y')"/>
		</td>
		<td>
		  <input class="letter" type="button" value="Z" onClick="pressed('Z')"/>
		</td>
	      </tr>
	    </table>
	  </td>
	  <td>
	    <table>
	      <tr>
		<td>
		  <img src="images/vacio.jpg" name="image"/>
		</td>
	      </tr>
	      <tr>
		<td>
		  <input type="text" readonly="true" style="width:100%" name="word"/>
		</td>
	      </tr>
	    </table>
	  </td>
	</tr>
      </table>
    </form>

  </body>
</html>
